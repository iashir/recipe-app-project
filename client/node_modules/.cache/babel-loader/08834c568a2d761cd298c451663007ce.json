{"ast":null,"code":"var _jsxFileName = \"/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/sections/followers.jsx\";\nimport React, { useEffect, useState, Fragment } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\n\nconst imageProf = require(\"../../../public/uploads/chef2.jpg\");\n\nconst Followers = props => {\n  const [followersNumber, setFollowersNumber] = useState(0);\n  const [followers, setFollowers] = useState([]);\n  const [modalFollowers, setModalFollowers] = useState([]);\n  const {\n    id\n  } = useParams();\n  let modal = document.querySelectorAll(\".modal\");\n  M.Modal.init(modal);\n  useEffect(() => {\n    axios.post(\"/api/subscribe/followers\", {\n      userTo: id\n    }).then(response => {\n      if (response.data.success) {\n        setFollowers(response.data.followers);\n        setFollowersNumber(response.data.followersNumber);\n        let sorted = response.data.followers;\n        sorted.sort(function (a, b) {\n          if (a.userFrom.username.toLowerCase() < b.userFrom.username.toLowerCase()) {\n            return -1;\n          }\n\n          if (a.userFrom.username.toLowerCase() > b.userFrom.username.toLowerCase()) {\n            return 1;\n          }\n\n          return 0;\n        });\n        setModalFollowers(sorted);\n      } else {\n        toast.error(\"Failed to get subscriber Number\");\n      }\n    });\n  }, [props.newFollower, id]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"collection with-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"collection-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"modal-trigger\",\n    href: \"#modal1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Followers \", followersNumber)), followers.slice(0, 3).map(follower => /*#__PURE__*/React.createElement(\"li\", {\n    key: follower._id,\n    className: \"collection-item avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: (\"/account/\", follower.userFrom._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: follower.userFrom.image !== \"\" ? follower.userFrom.image : imageProf,\n    alt: \"\",\n    className: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"black\"\n    },\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, follower.userFrom.username), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, follower.userFrom.email))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"modal1\",\n    className: \"modal bottom-sheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    className: \"modal-close waves-effect waves-green btn red right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Followers: \", modalFollowers.length), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Sorted by username\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"collection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, modalFollowers.map(follower => /*#__PURE__*/React.createElement(\"li\", {\n    key: follower._id,\n    className: \"collection-item avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: (\"/account/\", follower.userFrom._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: follower.userFrom.image !== \"\" ? follower.userFrom.image : imageProf,\n    alt: \"\",\n    className: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"black\"\n    },\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, follower.userFrom.username), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, follower.userFrom.email)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Followers;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/sections/followers.jsx"],"names":["React","useEffect","useState","Fragment","Link","useParams","toast","axios","M","imageProf","require","Followers","props","followersNumber","setFollowersNumber","followers","setFollowers","modalFollowers","setModalFollowers","id","modal","document","querySelectorAll","Modal","init","post","userTo","then","response","data","success","sorted","sort","a","b","userFrom","username","toLowerCase","error","newFollower","slice","map","follower","_id","image","color","email","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\n\nconst imageProf = require(\"../../../public/uploads/chef2.jpg\");\nconst Followers = (props) => {\n  const [followersNumber, setFollowersNumber] = useState(0);\n  const [followers, setFollowers] = useState([]);\n  const [modalFollowers, setModalFollowers] = useState([]);\n  const { id } = useParams();\n  let modal = document.querySelectorAll(\".modal\");\n  M.Modal.init(modal);\n  useEffect(() => {\n    axios.post(\"/api/subscribe/followers\", { userTo: id }).then((response) => {\n      if (response.data.success) {\n        setFollowers(response.data.followers);\n        setFollowersNumber(response.data.followersNumber);\n        let sorted = response.data.followers;\n        sorted.sort(function (a, b) {\n          if (\n            a.userFrom.username.toLowerCase() <\n            b.userFrom.username.toLowerCase()\n          ) {\n            return -1;\n          }\n          if (\n            a.userFrom.username.toLowerCase() >\n            b.userFrom.username.toLowerCase()\n          ) {\n            return 1;\n          }\n          return 0;\n        });\n        setModalFollowers(sorted);\n      } else {\n        toast.error(\"Failed to get subscriber Number\");\n      }\n    });\n  }, [props.newFollower, id]);\n\n  return (\n    <Fragment>\n      <ul className=\"collection with-header\">\n        <li className=\"collection-header\">\n          <a className=\"modal-trigger\" href=\"#modal1\">\n            Followers {followersNumber}\n          </a>\n        </li>\n        {followers.slice(0, 3).map((follower) => (\n          <li key={follower._id} className=\"collection-item avatar\">\n            <Link to={(\"/account/\", follower.userFrom._id)}>\n              <img\n                src={\n                  follower.userFrom.image !== \"\"\n                    ? follower.userFrom.image\n                    : imageProf\n                }\n                alt=\"\"\n                className=\"circle\"\n              ></img>\n              <span style={{ color: \"black\" }} className=\"title\">\n                {follower.userFrom.username}\n              </span>\n              <p style={{ color: \"black\" }}>{follower.userFrom.email}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <div id=\"modal1\" className=\"modal bottom-sheet\">\n        <div className=\"modal-content\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn red right\"\n          >\n            Close\n          </a>\n\n          <h4>Followers: {modalFollowers.length}</h4>\n          <p>Sorted by username</p>\n          <ul className=\"collection\">\n            {modalFollowers.map((follower) => (\n              <li key={follower._id} className=\"collection-item avatar\">\n                <Link to={(\"/account/\", follower.userFrom._id)}>\n                  <img\n                    src={\n                      follower.userFrom.image !== \"\"\n                        ? follower.userFrom.image\n                        : imageProf\n                    }\n                    alt=\"\"\n                    className=\"circle\"\n                  ></img>\n                  <span style={{ color: \"black\" }} className=\"title\">\n                    {follower.userFrom.username}\n                  </span>\n                  <p style={{ color: \"black\" }}>{follower.userFrom.email}</p>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"modal-footer\"></div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Followers;\n"]},"metadata":{},"sourceType":"module"}