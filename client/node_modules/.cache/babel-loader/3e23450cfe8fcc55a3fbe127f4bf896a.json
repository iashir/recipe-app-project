{"ast":null,"code":"import _classCallCheck from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ProfilePhoto from\"../common/profilePhoto\";import ProfileDesc from\"./sections/profileDesc\";import axios from\"axios\";import M from\"materialize-css\";import{showLoading}from\"../helper/loading\";import Followings from\"./sections/followings\";import Followers from\"./sections/followers\";import RecipeCard from\"../common/recipeCard\";var imageProf=require(\"../../public/uploads/chef2.jpg\");var Account=/*#__PURE__*/function(_Component){_inherits(Account,_Component);var _super=_createSuper(Account);function Account(){var _this;_classCallCheck(this,Account);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:{},categories:[],loading:false,subscribed:false,newFollower:false,newFollowing:false,recipes:[]};_this.componentDidMount=function(){_this.setState({loading:true});var id=_this.props.match.params.id;axios.get(\"/api/users/\"+id).then(function(_ref){var user=_ref.data;_this.setState({user:user});var elems=document.querySelectorAll(\".collapsible\");M.Collapsible.init(elems);var modal=document.querySelectorAll(\".modal\");M.Modal.init(modal);}).catch(function(err){_this.setState({loading:false});_this.props.history.push(\"/not-found\");});axios.get(\"/api/recipes/user/\"+id).then(function(_ref2){var recipes=_ref2.data;_this.setState({recipes:recipes,loading:false});});};_this.handleFollowersUpdate=function(){_this.setState({newFollower:!_this.state.newFollower});};_this.componentDidUpdate=function(prevProps){if(prevProps.location.pathname!==_this.props.location.pathname){_this.setState({loading:true});var id=_this.props.match.params.id;axios.get(\"/api/users/\"+id).then(function(_ref3){var user=_ref3.data;_this.setState({user:user});var elems=document.querySelectorAll(\".collapsible\");M.Collapsible.init(elems);}).catch(function(err){_this.setState({loading:false});_this.props.history.push(\"/not-found\");});axios.get(\"/api/recipes/user/\"+id).then(function(_ref4){var recipes=_ref4.data;_this.setState({recipes:recipes,loading:false});});_this.setState({newFollower:!_this.state.newFollower,newFollowing:!_this.state.newFollowing});}};return _this;}_createClass(Account,[{key:\"render\",value:function render(){var _this$state=this.state,user=_this$state.user,subscribed=_this$state.subscribed,loading=_this$state.loading,recipes=_this$state.recipes,newFollower=_this$state.newFollower,newFollowing=_this$state.newFollowing;if(user._id){return/*#__PURE__*/React.createElement(\"main\",{className:\"container\"},loading?showLoading():null,/*#__PURE__*/React.createElement(\"div\",{className:\"row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m4 l4 \"},/*#__PURE__*/React.createElement(ProfilePhoto,{user:user,subscribed:subscribed,onFollowersUpdate:this.handleFollowersUpdate}),/*#__PURE__*/React.createElement(Followers,{newFollower:newFollower}),/*#__PURE__*/React.createElement(Followings,{newFollowing:newFollowing})),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 m8 l8\"},/*#__PURE__*/React.createElement(ProfileDesc,{user:user}),/*#__PURE__*/React.createElement(RecipeCard,{recipes:recipes,imageProf:imageProf,recipesLength:recipes.length}))));}else{return null;}}}]);return Account;}(Component);export default Account;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/account.jsx"],"names":["React","Component","ProfilePhoto","ProfileDesc","axios","M","showLoading","Followings","Followers","RecipeCard","imageProf","require","Account","state","user","categories","loading","subscribed","newFollower","newFollowing","recipes","componentDidMount","setState","id","props","match","params","get","then","data","elems","document","querySelectorAll","Collapsible","init","modal","Modal","catch","err","history","push","handleFollowersUpdate","componentDidUpdate","prevProps","location","pathname","_id","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ProfilePhoto from \"../common/profilePhoto\";\nimport ProfileDesc from \"./sections/profileDesc\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\nimport { showLoading } from \"../helper/loading\";\nimport Followings from \"./sections/followings\";\nimport Followers from \"./sections/followers\";\nimport RecipeCard from \"../common/recipeCard\";\nconst imageProf = require(\"../../public/uploads/chef2.jpg\");\n\nclass Account extends Component {\n  state = {\n    user: {},\n    categories: [],\n    loading: false,\n    subscribed: false,\n    newFollower: false,\n    newFollowing: false,\n    recipes: [],\n  };\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    const id = this.props.match.params.id;\n    axios\n      .get(\"/api/users/\" + id)\n      .then(({ data: user }) => {\n        this.setState({ user });\n        let elems = document.querySelectorAll(\".collapsible\");\n        M.Collapsible.init(elems);\n        let modal = document.querySelectorAll(\".modal\");\n        M.Modal.init(modal);\n      })\n      .catch((err) => {\n        this.setState({ loading: false });\n        this.props.history.push(\"/not-found\");\n      });\n\n    axios.get(\"/api/recipes/user/\" + id).then(({ data: recipes }) => {\n      this.setState({ recipes, loading: false });\n    });\n  };\n\n  handleFollowersUpdate = () => {\n    this.setState({ newFollower: !this.state.newFollower });\n  };\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.location.pathname !== this.props.location.pathname) {\n      this.setState({ loading: true });\n      const id = this.props.match.params.id;\n\n      axios\n        .get(\"/api/users/\" + id)\n        .then(({ data: user }) => {\n          this.setState({ user });\n          var elems = document.querySelectorAll(\".collapsible\");\n          M.Collapsible.init(elems);\n        })\n        .catch((err) => {\n          this.setState({ loading: false });\n          this.props.history.push(\"/not-found\");\n        });\n\n      axios.get(\"/api/recipes/user/\" + id).then(({ data: recipes }) => {\n        this.setState({ recipes, loading: false });\n      });\n      this.setState({\n        newFollower: !this.state.newFollower,\n        newFollowing: !this.state.newFollowing,\n      });\n    }\n  };\n\n  render() {\n    const {\n      user,\n      subscribed,\n      loading,\n      recipes,\n      newFollower,\n      newFollowing,\n    } = this.state;\n\n    if (user._id) {\n      return (\n        <main className=\"container\">\n          {loading ? showLoading() : null}\n          <div className=\"row \">\n            <div className=\"col s12 m4 l4 \">\n              <ProfilePhoto\n                user={user}\n                subscribed={subscribed}\n                onFollowersUpdate={this.handleFollowersUpdate}\n              />\n              <Followers newFollower={newFollower} />\n              <Followings newFollowing={newFollowing} />\n            </div>\n            <div className=\"col s12 m8 l8\">\n              <ProfileDesc user={user} />\n              <RecipeCard\n                recipes={recipes}\n                imageProf={imageProf}\n                recipesLength={recipes.length}\n              />\n            </div>\n          </div>\n        </main>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}