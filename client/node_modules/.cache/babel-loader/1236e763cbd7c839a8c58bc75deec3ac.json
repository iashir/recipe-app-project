{"ast":null,"code":"import _slicedToArray from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from\"react\";import{Link,useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import axios from\"axios\";import M from\"materialize-css\";var imageProf=require(\"../../../public/uploads/chef2.jpg\");var modal=document.querySelectorAll(\".modal\");M.Modal.init(modal);var Followings=function Followings(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),followingsNumber=_useState2[0],setFollowingsNumber=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),followings=_useState4[0],setFollowings=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),modalFollowings=_useState6[0],setModalFollowings=_useState6[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){axios.post(\"/api/subscribe/followings\",{userTo:id}).then(function(response){if(response.data.success){setFollowings(response.data.followings);setFollowingsNumber(response.data.followingsNumber);var sorted=response.data.followings;setModalFollowings(sorted.sort(function(a,b){if(a.userTo.username.toLowerCase()>b.userTo.username.toLowerCase()){return-1;}if(a.userTo.username.toLowerCase()<b.userTo.username.toLowerCase()){return 1;}return 0;}));}else{toast.error(\"Failed to get subscriber Number\");}});},[props.newFollowing,id]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"ul\",{className:\"collection with-header\"},/*#__PURE__*/React.createElement(\"li\",{className:\"collection-header\"},/*#__PURE__*/React.createElement(\"a\",{className:\"modal-trigger\",href:\"#modal2\"},\"followings \",followingsNumber)),followings.reverse().slice(0,3).map(function(following,i){return/*#__PURE__*/React.createElement(\"li\",{key:following._id,className:\"collection-item avatar\"},/*#__PURE__*/React.createElement(Link,{to:(\"/account/\",following.userTo._id)},/*#__PURE__*/React.createElement(\"img\",{src:following.userTo.image!==\"\"?following.userTo.image:imageProf,alt:\"\",className:\"circle\"}),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"black\"},className:\"title\"},following.userTo.username),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\"}},following.userTo.email)));})),/*#__PURE__*/React.createElement(\"div\",{id:\"modal2\",className:\"modal bottom-sheet\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#!\",className:\"modal-close waves-effect waves-green btn red right\"},\"Close\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Followings: \",modalFollowings.length),/*#__PURE__*/React.createElement(\"p\",null,\"Sorted by username\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"collection\"},modalFollowings.map(function(follower){return/*#__PURE__*/React.createElement(\"li\",{key:follower._id,className:\"collection-item avatar\"},/*#__PURE__*/React.createElement(Link,{to:(\"/account/\",follower.userTo._id)},/*#__PURE__*/React.createElement(\"img\",{src:follower.userTo.image!==\"\"?follower.userTo.image:imageProf,alt:\"\",className:\"circle\"}),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"black\"},className:\"title\"},follower.userTo.username),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\"}},follower.userTo.email)));})))));};export default Followings;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/sections/followings.jsx"],"names":["React","useEffect","useState","Fragment","Link","useParams","toast","axios","M","imageProf","require","modal","document","querySelectorAll","Modal","init","Followings","props","followingsNumber","setFollowingsNumber","followings","setFollowings","modalFollowings","setModalFollowings","id","post","userTo","then","response","data","success","sorted","sort","a","b","username","toLowerCase","error","newFollowing","reverse","slice","map","following","i","_id","image","color","email","length","follower"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\nconst imageProf = require(\"../../../public/uploads/chef2.jpg\");\nlet modal = document.querySelectorAll(\".modal\");\nM.Modal.init(modal);\n\nconst Followings = (props) => {\n  const [followingsNumber, setFollowingsNumber] = useState(0);\n  const [followings, setFollowings] = useState([]);\n  const [modalFollowings, setModalFollowings] = useState([]);\n\n  const { id } = useParams();\n  useEffect(() => {\n    axios.post(\"/api/subscribe/followings\", { userTo: id }).then((response) => {\n      if (response.data.success) {\n        setFollowings(response.data.followings);\n        setFollowingsNumber(response.data.followingsNumber);\n        let sorted = response.data.followings;\n        setModalFollowings(\n          sorted.sort(function (a, b) {\n            if (\n              a.userTo.username.toLowerCase() > b.userTo.username.toLowerCase()\n            ) {\n              return -1;\n            }\n            if (\n              a.userTo.username.toLowerCase() < b.userTo.username.toLowerCase()\n            ) {\n              return 1;\n            }\n            return 0;\n          })\n        );\n      } else {\n        toast.error(\"Failed to get subscriber Number\");\n      }\n    });\n  }, [props.newFollowing, id]);\n  return (\n    <Fragment>\n      <ul className=\"collection with-header\">\n        <li className=\"collection-header\">\n          <a className=\"modal-trigger\" href=\"#modal2\">\n            followings {followingsNumber}\n          </a>\n        </li>\n        {followings\n          .reverse()\n          .slice(0, 3)\n          .map((following, i) => (\n            <li key={following._id} className=\"collection-item avatar\">\n              <Link to={(\"/account/\", following.userTo._id)}>\n                <img\n                  src={\n                    following.userTo.image !== \"\"\n                      ? following.userTo.image\n                      : imageProf\n                  }\n                  alt=\"\"\n                  className=\"circle\"\n                ></img>\n                <span style={{ color: \"black\" }} className=\"title\">\n                  {following.userTo.username}\n                </span>\n                <p style={{ color: \"black\" }}>{following.userTo.email}</p>\n              </Link>\n            </li>\n          ))}\n      </ul>\n      <div id=\"modal2\" className=\"modal bottom-sheet\">\n        <div className=\"modal-content\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn red right\"\n          >\n            Close\n          </a>\n\n          <h4>Followings: {modalFollowings.length}</h4>\n          <p>Sorted by username</p>\n          <ul className=\"collection\">\n            {modalFollowings.map((follower) => (\n              <li key={follower._id} className=\"collection-item avatar\">\n                <Link to={(\"/account/\", follower.userTo._id)}>\n                  <img\n                    src={\n                      follower.userTo.image !== \"\"\n                        ? follower.userTo.image\n                        : imageProf\n                    }\n                    alt=\"\"\n                    className=\"circle\"\n                  ></img>\n                  <span style={{ color: \"black\" }} className=\"title\">\n                    {follower.userTo.username}\n                  </span>\n                  <p style={{ color: \"black\" }}>{follower.userTo.email}</p>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Followings;\n"]},"metadata":{},"sourceType":"module"}