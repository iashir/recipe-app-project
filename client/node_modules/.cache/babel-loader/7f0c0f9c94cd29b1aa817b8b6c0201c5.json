{"ast":null,"code":"var _jsxFileName = \"/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/account.jsx\";\nimport React, { Component } from \"react\";\nimport ProfilePhoto from \"../common/profilePhoto\";\nimport ProfileDesc from \"./sections/profileDesc\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\nimport { showLoading } from \"../helper/loading\";\nimport Followings from \"./sections/followings\";\nimport Followers from \"./sections/followers\";\nimport RecipeCard from \"../common/recipeCard\";\n\nconst imageProf = require(\"../../public/uploads/chef2.jpg\");\n\nclass Account extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      categories: [],\n      loading: false,\n      subscribed: false,\n      newFollower: false,\n      newFollowing: false,\n      recipes: []\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        loading: true\n      });\n      const id = this.props.match.params.id;\n      axios.get(\"/api/users/\" + id).then(({\n        data: user\n      }) => {\n        this.setState({\n          user\n        });\n        let elems = document.querySelectorAll(\".collapsible\");\n        M.Collapsible.init(elems);\n        let modal = document.querySelectorAll(\".modal\");\n        M.Modal.init(modal);\n      }).catch(err => {\n        this.setState({\n          loading: false\n        });\n        this.props.history.push(\"/not-found\");\n      });\n      axios.get(\"/api/recipes/user/\" + id).then(({\n        data: recipes\n      }) => {\n        this.setState({\n          recipes,\n          loading: false\n        });\n      });\n    };\n\n    this.handleFollowersUpdate = () => {\n      this.setState({\n        newFollower: !this.state.newFollower\n      });\n    };\n\n    this.componentDidUpdate = prevProps => {\n      if (prevProps.location.pathname !== this.props.location.pathname) {\n        this.setState({\n          loading: true\n        });\n        const id = this.props.match.params.id;\n        axios.get(\"/api/users/\" + id).then(({\n          data: user\n        }) => {\n          this.setState({\n            user\n          });\n          var elems = document.querySelectorAll(\".collapsible\");\n          M.Collapsible.init(elems);\n        }).catch(err => {\n          this.setState({\n            loading: false\n          });\n          this.props.history.push(\"/not-found\");\n        });\n        axios.get(\"/api/recipes/user/\" + id).then(({\n          data: recipes\n        }) => {\n          this.setState({\n            recipes,\n            loading: false\n          });\n        });\n        this.setState({\n          newFollower: !this.state.newFollower,\n          newFollowing: !this.state.newFollowing\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      user,\n      subscribed,\n      loading,\n      recipes,\n      newFollower,\n      newFollowing\n    } = this.state;\n\n    if (user._id) {\n      return /*#__PURE__*/React.createElement(\"main\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, loading ? showLoading() : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col s12 m4 l4 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ProfilePhoto, {\n        user: user,\n        subscribed: subscribed,\n        onFollowersUpdate: this.handleFollowersUpdate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Followers, {\n        newFollower: newFollower,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Followings, {\n        newFollowing: newFollowing,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col s12 m8 l8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ProfileDesc, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(RecipeCard, {\n        recipes: recipes,\n        imageProf: imageProf,\n        recipesLength: recipes.length,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }))));\n    } else {\n      return null;\n    }\n  }\n\n}\n\nexport default Account;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/account.jsx"],"names":["React","Component","ProfilePhoto","ProfileDesc","axios","M","showLoading","Followings","Followers","RecipeCard","imageProf","require","Account","state","user","categories","loading","subscribed","newFollower","newFollowing","recipes","componentDidMount","setState","id","props","match","params","get","then","data","elems","document","querySelectorAll","Collapsible","init","modal","Modal","catch","err","history","push","handleFollowersUpdate","componentDidUpdate","prevProps","location","pathname","render","_id","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ProfilePhoto from \"../common/profilePhoto\";\nimport ProfileDesc from \"./sections/profileDesc\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\nimport { showLoading } from \"../helper/loading\";\nimport Followings from \"./sections/followings\";\nimport Followers from \"./sections/followers\";\nimport RecipeCard from \"../common/recipeCard\";\nconst imageProf = require(\"../../public/uploads/chef2.jpg\");\n\nclass Account extends Component {\n  state = {\n    user: {},\n    categories: [],\n    loading: false,\n    subscribed: false,\n    newFollower: false,\n    newFollowing: false,\n    recipes: [],\n  };\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    const id = this.props.match.params.id;\n    axios\n      .get(\"/api/users/\" + id)\n      .then(({ data: user }) => {\n        this.setState({ user });\n        let elems = document.querySelectorAll(\".collapsible\");\n        M.Collapsible.init(elems);\n        let modal = document.querySelectorAll(\".modal\");\n        M.Modal.init(modal);\n      })\n      .catch((err) => {\n        this.setState({ loading: false });\n        this.props.history.push(\"/not-found\");\n      });\n\n    axios.get(\"/api/recipes/user/\" + id).then(({ data: recipes }) => {\n      this.setState({ recipes, loading: false });\n    });\n  };\n\n  handleFollowersUpdate = () => {\n    this.setState({ newFollower: !this.state.newFollower });\n  };\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.location.pathname !== this.props.location.pathname) {\n      this.setState({ loading: true });\n      const id = this.props.match.params.id;\n\n      axios\n        .get(\"/api/users/\" + id)\n        .then(({ data: user }) => {\n          this.setState({ user });\n          var elems = document.querySelectorAll(\".collapsible\");\n          M.Collapsible.init(elems);\n        })\n        .catch((err) => {\n          this.setState({ loading: false });\n          this.props.history.push(\"/not-found\");\n        });\n\n      axios.get(\"/api/recipes/user/\" + id).then(({ data: recipes }) => {\n        this.setState({ recipes, loading: false });\n      });\n      this.setState({\n        newFollower: !this.state.newFollower,\n        newFollowing: !this.state.newFollowing,\n      });\n    }\n  };\n\n  render() {\n    const {\n      user,\n      subscribed,\n      loading,\n      recipes,\n      newFollower,\n      newFollowing,\n    } = this.state;\n\n    if (user._id) {\n      return (\n        <main className=\"container\">\n          {loading ? showLoading() : null}\n          <div className=\"row \">\n            <div className=\"col s12 m4 l4 \">\n              <ProfilePhoto\n                user={user}\n                subscribed={subscribed}\n                onFollowersUpdate={this.handleFollowersUpdate}\n              />\n              <Followers newFollower={newFollower} />\n              <Followings newFollowing={newFollowing} />\n            </div>\n            <div className=\"col s12 m8 l8\">\n              <ProfileDesc user={user} />\n              <RecipeCard\n                recipes={recipes}\n                imageProf={imageProf}\n                recipesLength={recipes.length}\n              />\n            </div>\n          </div>\n        </main>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default Account;\n"]},"metadata":{},"sourceType":"module"}