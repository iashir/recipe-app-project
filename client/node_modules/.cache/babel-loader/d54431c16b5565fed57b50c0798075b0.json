{"ast":null,"code":"import _slicedToArray from\"/Users/iashir/Desktop/WorkProjects/Recipe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from\"react\";import{Link,useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import axios from\"axios\";import M from\"materialize-css\";var imageProf=require(\"../../../public/uploads/chef2.jpg\");var Followers=function Followers(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),followersNumber=_useState2[0],setFollowersNumber=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),followers=_useState4[0],setFollowers=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),modalFollowers=_useState6[0],setModalFollowers=_useState6[1];var _useParams=useParams(),id=_useParams.id;var modal=document.querySelectorAll(\".modal\");M.Modal.init(modal);useEffect(function(){axios.post(\"/api/subscribe/followers\",{userTo:id}).then(function(response){if(response.data.success){setFollowers(response.data.followers);setFollowersNumber(response.data.followersNumber);var sorted=response.data.followers;sorted.sort(function(a,b){if(a.userFrom.username.toLowerCase()<b.userFrom.username.toLowerCase()){return-1;}if(a.userFrom.username.toLowerCase()>b.userFrom.username.toLowerCase()){return 1;}return 0;});setModalFollowers(sorted);}else{toast.error(\"Failed to get subscriber Number\");}});},[props.newFollower,id]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"ul\",{className:\"collection with-header\"},/*#__PURE__*/React.createElement(\"li\",{className:\"collection-header\"},/*#__PURE__*/React.createElement(\"a\",{className:\"modal-trigger\",href:\"#modal1\"},\"Followers \",followersNumber)),followers.slice(0,3).map(function(follower){return/*#__PURE__*/React.createElement(\"li\",{key:follower._id,className:\"collection-item avatar\"},/*#__PURE__*/React.createElement(Link,{to:(\"/account/\",follower.userFrom._id)},/*#__PURE__*/React.createElement(\"img\",{src:follower.userFrom.image!==\"\"?follower.userFrom.image:imageProf,alt:\"\",className:\"circle\"}),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"black\"},className:\"title\"},follower.userFrom.username),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\"}},follower.userFrom.email)));})),/*#__PURE__*/React.createElement(\"div\",{id:\"modal1\",className:\"modal bottom-sheet\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#!\",className:\"modal-close waves-effect waves-green btn red right\"},\"Close\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Followers: \",modalFollowers.length),/*#__PURE__*/React.createElement(\"p\",null,\"Sorted by username\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"collection\"},modalFollowers.map(function(follower){return/*#__PURE__*/React.createElement(\"li\",{key:follower._id,className:\"collection-item avatar\"},/*#__PURE__*/React.createElement(Link,{to:(\"/account/\",follower.userFrom._id)},/*#__PURE__*/React.createElement(\"img\",{src:follower.userFrom.image!==\"\"?follower.userFrom.image:imageProf,alt:\"\",className:\"circle\"}),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"black\"},className:\"title\"},follower.userFrom.username),/*#__PURE__*/React.createElement(\"p\",{style:{color:\"black\"}},follower.userFrom.email)));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-footer\"})));};export default Followers;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/account/sections/followers.jsx"],"names":["React","useEffect","useState","Fragment","Link","useParams","toast","axios","M","imageProf","require","Followers","props","followersNumber","setFollowersNumber","followers","setFollowers","modalFollowers","setModalFollowers","id","modal","document","querySelectorAll","Modal","init","post","userTo","then","response","data","success","sorted","sort","a","b","userFrom","username","toLowerCase","error","newFollower","slice","map","follower","_id","image","color","email","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport M from \"materialize-css\";\n\nconst imageProf = require(\"../../../public/uploads/chef2.jpg\");\nconst Followers = (props) => {\n  const [followersNumber, setFollowersNumber] = useState(0);\n  const [followers, setFollowers] = useState([]);\n  const [modalFollowers, setModalFollowers] = useState([]);\n  const { id } = useParams();\n  let modal = document.querySelectorAll(\".modal\");\n  M.Modal.init(modal);\n  useEffect(() => {\n    axios.post(\"/api/subscribe/followers\", { userTo: id }).then((response) => {\n      if (response.data.success) {\n        setFollowers(response.data.followers);\n        setFollowersNumber(response.data.followersNumber);\n        let sorted = response.data.followers;\n        sorted.sort(function (a, b) {\n          if (\n            a.userFrom.username.toLowerCase() <\n            b.userFrom.username.toLowerCase()\n          ) {\n            return -1;\n          }\n          if (\n            a.userFrom.username.toLowerCase() >\n            b.userFrom.username.toLowerCase()\n          ) {\n            return 1;\n          }\n          return 0;\n        });\n        setModalFollowers(sorted);\n      } else {\n        toast.error(\"Failed to get subscriber Number\");\n      }\n    });\n  }, [props.newFollower, id]);\n\n  return (\n    <Fragment>\n      <ul className=\"collection with-header\">\n        <li className=\"collection-header\">\n          <a className=\"modal-trigger\" href=\"#modal1\">\n            Followers {followersNumber}\n          </a>\n        </li>\n        {followers.slice(0, 3).map((follower) => (\n          <li key={follower._id} className=\"collection-item avatar\">\n            <Link to={(\"/account/\", follower.userFrom._id)}>\n              <img\n                src={\n                  follower.userFrom.image !== \"\"\n                    ? follower.userFrom.image\n                    : imageProf\n                }\n                alt=\"\"\n                className=\"circle\"\n              ></img>\n              <span style={{ color: \"black\" }} className=\"title\">\n                {follower.userFrom.username}\n              </span>\n              <p style={{ color: \"black\" }}>{follower.userFrom.email}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <div id=\"modal1\" className=\"modal bottom-sheet\">\n        <div className=\"modal-content\">\n          <a\n            href=\"#!\"\n            className=\"modal-close waves-effect waves-green btn red right\"\n          >\n            Close\n          </a>\n\n          <h4>Followers: {modalFollowers.length}</h4>\n          <p>Sorted by username</p>\n          <ul className=\"collection\">\n            {modalFollowers.map((follower) => (\n              <li key={follower._id} className=\"collection-item avatar\">\n                <Link to={(\"/account/\", follower.userFrom._id)}>\n                  <img\n                    src={\n                      follower.userFrom.image !== \"\"\n                        ? follower.userFrom.image\n                        : imageProf\n                    }\n                    alt=\"\"\n                    className=\"circle\"\n                  ></img>\n                  <span style={{ color: \"black\" }} className=\"title\">\n                    {follower.userFrom.username}\n                  </span>\n                  <p style={{ color: \"black\" }}>{follower.userFrom.email}</p>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"modal-footer\"></div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Followers;\n"]},"metadata":{},"sourceType":"module"}