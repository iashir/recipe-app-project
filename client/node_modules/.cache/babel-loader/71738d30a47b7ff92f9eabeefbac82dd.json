{"ast":null,"code":"var _jsxFileName = \"/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/myRecipes.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { showLoading } from \"./helper/loading\";\nimport { toast } from \"react-toastify\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\n\nclass MyRecipes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userRecipes: [],\n      loading: false,\n      user: {}\n    };\n\n    this.componentDidMount = () => {\n      AOS.init();\n      var floatButton = document.querySelectorAll(\".fixed-action-btn\");\n      M.FloatingActionButton.init(floatButton);\n      const user = JSON.parse(localStorage.user);\n      this.setState({\n        loading: true,\n        user\n      });\n      axios.get(`/api/myrecipes/${user._id}`).then(({\n        data: userRecipes\n      }) => {\n        this.setState({\n          userRecipes,\n          loading: false\n        });\n\n        if (this.state.userRecipes.length === 0) {\n          var elemsTap = document.querySelector(\".tap-target\");\n          var instancesTap = M.TapTarget.init(elemsTap);\n          instancesTap.open();\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteRecipe = e => {\n      const currentRecipe = this.state.userRecipes.find(m => m._id === e.currentTarget.id);\n      const userRecipes = this.state.userRecipes.filter(m => m._id !== e.currentTarget.id);\n      this.setState({\n        userRecipes\n      });\n      const id = e.currentTarget.id;\n      const obj = {\n        _id: id,\n        user: this.state.user\n      };\n      axios.delete(`/api/recipes/${id}`, {\n        data: obj\n      }).then(() => {\n        toast.success(`You successfully deleted ${currentRecipe.title}`, {\n          position: \"bottom-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }).catch(err => {\n        this.setState({\n          errors: err\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      userRecipes,\n      loading\n    } = this.state;\n\n    if (userRecipes.length === 0) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, loading ? showLoading() : null, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, \"You did't crate recipes yet\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fixed-action-btn \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/my-recipes/add\",\n        id: \"menu\",\n        className: \"btn-floating btn-large waves-effect waves-light red pulse\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, \"add\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tap-target teal lighten-4\",\n        \"data-target\": \"menu\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tap-target-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      }, \"You don't have recipes yet\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, \"Click me to add your first recipe\"))))));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"main\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, loading ? showLoading() : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fixed-action-btn \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/my-recipes/add\",\n        id: \"menu\",\n        className: \"btn-floating btn-large waves-effect waves-light red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, \"add\"))), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"stipped \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 19\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }\n      }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 19\n        }\n      }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }\n      }, userRecipes.map(recipe => /*#__PURE__*/React.createElement(\"tr\", {\n        key: recipe._id,\n        \"data-aos\": \"fade-left\",\n        \"data-aos-easing\": \"linear\",\n        \"data-aos-duration\": \"4500\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/recipes/\" + recipe._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 23\n        }\n      }, recipe.title)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, moment(recipe.createdAt).startOf(\"hour\").fromNow()), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"dash status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 23\n        }\n      }, recipe.status)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/my-recipes/edit/\" + recipe._id,\n        className: \"btn btn-small \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-edit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        id: recipe._id,\n        style: {\n          marginRight: \"0px\"\n        },\n        className: \"btn red btn-small\",\n        onClick: this.deleteRecipe,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }\n      })))))))));\n    }\n  }\n\n}\n\nexport default withRouter(MyRecipes);","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/myRecipes.jsx"],"names":["React","Component","axios","moment","Link","withRouter","M","showLoading","toast","AOS","MyRecipes","state","userRecipes","loading","user","componentDidMount","init","floatButton","document","querySelectorAll","FloatingActionButton","JSON","parse","localStorage","setState","get","_id","then","data","length","elemsTap","querySelector","instancesTap","TapTarget","open","catch","err","console","log","deleteRecipe","e","currentRecipe","find","m","currentTarget","id","filter","obj","delete","success","title","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","errors","render","map","recipe","createdAt","startOf","fromNow","status","marginRight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport { showLoading } from \"./helper/loading\";\nimport { toast } from \"react-toastify\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nclass MyRecipes extends Component {\n  state = { userRecipes: [], loading: false, user: {} };\n  componentDidMount = () => {\n    AOS.init();\n    var floatButton = document.querySelectorAll(\".fixed-action-btn\");\n    M.FloatingActionButton.init(floatButton);\n    const user = JSON.parse(localStorage.user);\n    this.setState({ loading: true, user });\n\n    axios\n      .get(`/api/myrecipes/${user._id}`)\n      .then(({ data: userRecipes }) => {\n        this.setState({ userRecipes, loading: false });\n        if (this.state.userRecipes.length === 0) {\n          var elemsTap = document.querySelector(\".tap-target\");\n          var instancesTap = M.TapTarget.init(elemsTap);\n          instancesTap.open();\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  deleteRecipe = (e) => {\n    const currentRecipe = this.state.userRecipes.find(\n      (m) => m._id === e.currentTarget.id\n    );\n    const userRecipes = this.state.userRecipes.filter(\n      (m) => m._id !== e.currentTarget.id\n    );\n    this.setState({ userRecipes });\n    const id = e.currentTarget.id;\n    const obj = {\n      _id: id,\n      user: this.state.user,\n    };\n    axios\n      .delete(`/api/recipes/${id}`, { data: obj })\n      .then(() => {\n        toast.success(`You successfully deleted ${currentRecipe.title}`, {\n          position: \"bottom-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      })\n      .catch((err) => {\n        this.setState({ errors: err });\n      });\n  };\n\n  render() {\n    const { userRecipes, loading } = this.state;\n\n    if (userRecipes.length === 0) {\n      return (\n        <React.Fragment>\n          <div className=\"container\">\n            {loading ? showLoading() : null}\n            <p>You did't crate recipes yet</p>\n            <div className=\"fixed-action-btn \">\n              <Link\n                to=\"/my-recipes/add\"\n                id=\"menu\"\n                className=\"btn-floating btn-large waves-effect waves-light red pulse\"\n              >\n                <i className=\"material-icons\">add</i>\n              </Link>\n              <div className=\"tap-target teal lighten-4\" data-target=\"menu\">\n                <div className=\"tap-target-content\">\n                  <h5>You don't have recipes yet</h5>\n                  <p>Click me to add your first recipe</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <main className=\"container\">\n            {loading ? showLoading() : null}\n            <div className=\"fixed-action-btn \">\n              <Link\n                to=\"/my-recipes/add\"\n                id=\"menu\"\n                className=\"btn-floating btn-large waves-effect waves-light red\"\n              >\n                <i className=\"material-icons\">add</i>\n              </Link>\n            </div>\n\n            <table className=\"stipped \">\n              <thead>\n                <tr>\n                  <th>Title</th>\n                  <th>Date</th>\n                  <th>Status</th>\n                  <th></th>\n                </tr>\n              </thead>\n              <tbody>\n                {userRecipes.map((recipe) => (\n                  <tr\n                    key={recipe._id}\n                    data-aos=\"fade-left\"\n                    data-aos-easing=\"linear\"\n                    data-aos-duration=\"4500\"\n                  >\n                    <td>\n                      <Link to={\"/recipes/\" + recipe._id}>{recipe.title}</Link>\n                    </td>\n                    <td>\n                      {moment(recipe.createdAt).startOf(\"hour\").fromNow()}\n                    </td>\n                    <td>\n                      <span className=\"dash status\">{recipe.status}</span>\n                    </td>\n                    <td>\n                      <Link\n                        to={\"/my-recipes/edit/\" + recipe._id}\n                        className=\"btn btn-small \"\n                      >\n                        <i className=\"fa fa-edit\"></i>\n                      </Link>\n\n                      <button\n                        id={recipe._id}\n                        style={{ marginRight: \"0px\" }}\n                        className=\"btn red btn-small\"\n                        onClick={this.deleteRecipe}\n                      >\n                        <i className=\"fa fa-trash\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </main>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nexport default withRouter(MyRecipes);\n"]},"metadata":{},"sourceType":"module"}