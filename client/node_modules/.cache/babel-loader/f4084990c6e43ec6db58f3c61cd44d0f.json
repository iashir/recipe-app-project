{"ast":null,"code":"var _jsxFileName = \"/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/Navbar/NavBar.jsx\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { isAuthenticated, logout } from \"../helper/auth\";\nimport { showLoading } from \"../helper/loading\";\nimport M from \"materialize-css\";\nimport NavLink from \"./sections/navLink\";\n\nclass NavBar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      userId: {}\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        loading: true\n      });\n      let sidenav = document.querySelectorAll(\".sidenav\");\n      M.Sidenav.init(sidenav);\n\n      if (isAuthenticated()) {\n        const {\n          _id\n        } = JSON.parse(localStorage.user);\n        this.setState({\n          userId: _id\n        });\n      } else {\n        this.setState({\n          userId: \"\"\n        });\n      }\n\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.componentDidUpdate = () => {\n      if (isAuthenticated() && this.state.userId === \"\") {\n        const {\n          _id\n        } = JSON.parse(localStorage.user);\n        this.setState({\n          userId: _id\n        });\n      }\n    };\n\n    this.handleLogout = e => {\n      this.setState({\n        loading: true\n      });\n      logout(() => {\n        this.setState({\n          loading: false,\n          userId: \"\"\n        });\n      });\n      this.props.history.push(\"/login\");\n      document.querySelector(\".sidenav-overlay\").click();\n    };\n\n    this.handleCloseNav = () => {\n      document.querySelector(\".sidenav-overlay\").click();\n    };\n\n    this.NavBar = () => {\n      if (isAuthenticated().role === 0) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/subscriptions\",\n          className: \"fa fa-users\",\n          name: \"Subscriptions\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/my-recipes\",\n          className: \"fa fa-pencil-square-o\",\n          name: \"My Recipes\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/account/\" + this.state.userId,\n          className: \"fa fa-user-circle\",\n          name: \"My Account\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"#\",\n          className: \"fa fa-sign-out\",\n          name: \"Logout\",\n          onLogout: this.handleLogout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }\n        }));\n      } else if (isAuthenticated().role === 1) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/admin/recipes\",\n          className: \"fa fa-user\",\n          name: \"Admin recipes\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/admin/categories\",\n          className: \"fa fa-user\",\n          name: \"Admin categories\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"\",\n          className: \"fa fa-sign-out\",\n          name: \"Logout\",\n          onLogout: this.handleLogout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/login\",\n          className: \"fa fa-sign-in\",\n          name: \"Login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/register\",\n          className: \"fa fa-user-plus\",\n          name: \"Register\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }\n        }));\n      }\n    };\n\n    this.NavBarResponsive = () => {\n      if (isAuthenticated().role === 0) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/subscriptions\",\n          className: \"fa fa-users\",\n          name: \"Subscriptions\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"divider\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/my-recipes\",\n          className: \"fa fa-pencil-square-o\",\n          name: \"My Recipes\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"divider\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/account/\" + this.state.userId,\n          className: \"fa fa-user-circle\",\n          name: \"My Account\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"li\", {\n          className: \"divider\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"#\",\n          className: \"fa fa-sign-out\",\n          name: \"Logout\",\n          onLogout: this.handleLogout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }\n        }));\n      } else if (isAuthenticated().role === 1) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/admin/recipes\",\n          className: \"fa fa-user\",\n          name: \"Admin recipes\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/admin/categories\",\n          className: \"fa fa-user\",\n          name: \"Admin categories\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"\",\n          className: \"fa fa-sign-out\",\n          name: \"Logout\",\n          onLogout: this.handleLogout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 11\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/login\",\n          className: \"fa fa-sign-in\",\n          name: \"Login\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(NavLink, {\n          pathname: \"/register\",\n          className: \"fa fa-user-plus\",\n          name: \"Register\",\n          onCloseNav: this.handleCloseNav,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }\n        }));\n      }\n    };\n  }\n\n  render() {\n    const {\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, loading ? showLoading() : null, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"teal blue-grey\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav-wrapper container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"brand-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, \"MyRecipe\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      \"data-target\": \"mobile-demo\",\n      className: \"sidenav-trigger show-on-med \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-bars fa-2x\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"nav-mobile\",\n      className: \"right hide-on-med-and-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      pathname: \"/recipes\",\n      className: \"fa fa-book\",\n      name: \"Public Recipies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }), this.NavBar()))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"sidenav\",\n      id: \"mobile-demo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      pathname: \"/recipes\",\n      className: \"fa fa-book\",\n      name: \"Public Recipies\",\n      onCloseNav: this.handleCloseNav,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }), this.NavBarResponsive()));\n  }\n\n}\n\nexport default withRouter(NavBar);","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/Navbar/NavBar.jsx"],"names":["React","Component","Link","withRouter","isAuthenticated","logout","showLoading","M","NavLink","NavBar","state","loading","userId","componentDidMount","setState","sidenav","document","querySelectorAll","Sidenav","init","_id","JSON","parse","localStorage","user","componentDidUpdate","handleLogout","e","props","history","push","querySelector","click","handleCloseNav","role","NavBarResponsive","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { isAuthenticated, logout } from \"../helper/auth\";\nimport { showLoading } from \"../helper/loading\";\nimport M from \"materialize-css\";\nimport NavLink from \"./sections/navLink\";\n\nclass NavBar extends Component {\n  state = { loading: false, userId: {} };\n\n  componentDidMount = () => {\n    this.setState({ loading: true });\n    let sidenav = document.querySelectorAll(\".sidenav\");\n    M.Sidenav.init(sidenav);\n    if (isAuthenticated()) {\n      const { _id } = JSON.parse(localStorage.user);\n      this.setState({ userId: _id });\n    } else {\n      this.setState({ userId: \"\" });\n    }\n    this.setState({ loading: false });\n  };\n  componentDidUpdate = () => {\n    if (isAuthenticated() && this.state.userId === \"\") {\n      const { _id } = JSON.parse(localStorage.user);\n      this.setState({ userId: _id });\n    }\n  };\n\n  handleLogout = (e) => {\n    this.setState({ loading: true });\n    logout(() => {\n      this.setState({ loading: false, userId: \"\" });\n    });\n    this.props.history.push(\"/login\");\n    document.querySelector(\".sidenav-overlay\").click();\n  };\n\n  handleCloseNav = () => {\n    document.querySelector(\".sidenav-overlay\").click();\n  };\n\n  NavBar = () => {\n    if (isAuthenticated().role === 0) {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/subscriptions\"}\n            className={\"fa fa-users\"}\n            name={\"Subscriptions\"}\n          />\n          <NavLink\n            pathname={\"/my-recipes\"}\n            className={\"fa fa-pencil-square-o\"}\n            name={\"My Recipes\"}\n          />\n\n          <NavLink\n            pathname={\"/account/\" + this.state.userId}\n            className={\"fa fa-user-circle\"}\n            name={\"My Account\"}\n          />\n\n          <NavLink\n            pathname={\"#\"}\n            className={\"fa fa-sign-out\"}\n            name={\"Logout\"}\n            onLogout={this.handleLogout}\n          />\n        </React.Fragment>\n      );\n    } else if (isAuthenticated().role === 1) {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/admin/recipes\"}\n            className={\"fa fa-user\"}\n            name={\"Admin recipes\"}\n          />\n          <NavLink\n            pathname={\"/admin/categories\"}\n            className={\"fa fa-user\"}\n            name={\"Admin categories\"}\n          />\n          <NavLink\n            pathname={\"\"}\n            className={\"fa fa-sign-out\"}\n            name={\"Logout\"}\n            onLogout={this.handleLogout}\n          />\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/login\"}\n            className={\"fa fa-sign-in\"}\n            name={\"Login\"}\n          />\n          <NavLink\n            pathname={\"/register\"}\n            className={\"fa fa-user-plus\"}\n            name={\"Register\"}\n          />\n        </React.Fragment>\n      );\n    }\n  };\n\n  NavBarResponsive = () => {\n    if (isAuthenticated().role === 0) {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/subscriptions\"}\n            className={\"fa fa-users\"}\n            name={\"Subscriptions\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <li className=\"divider\"></li>\n          <NavLink\n            pathname={\"/my-recipes\"}\n            className={\"fa fa-pencil-square-o\"}\n            name={\"My Recipes\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <li className=\"divider\"></li>\n          <NavLink\n            pathname={\"/account/\" + this.state.userId}\n            className={\"fa fa-user-circle\"}\n            name={\"My Account\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <li className=\"divider\"></li>\n          <NavLink\n            pathname={\"#\"}\n            className={\"fa fa-sign-out\"}\n            name={\"Logout\"}\n            onLogout={this.handleLogout}\n          />\n        </React.Fragment>\n      );\n    } else if (isAuthenticated().role === 1) {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/admin/recipes\"}\n            className={\"fa fa-user\"}\n            name={\"Admin recipes\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <NavLink\n            pathname={\"/admin/categories\"}\n            className={\"fa fa-user\"}\n            name={\"Admin categories\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <NavLink\n            pathname={\"\"}\n            className={\"fa fa-sign-out\"}\n            name={\"Logout\"}\n            onLogout={this.handleLogout}\n          />\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <NavLink\n            pathname={\"/login\"}\n            className={\"fa fa-sign-in\"}\n            name={\"Login\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <NavLink\n            pathname={\"/register\"}\n            className={\"fa fa-user-plus\"}\n            name={\"Register\"}\n            onCloseNav={this.handleCloseNav}\n          />\n        </React.Fragment>\n      );\n    }\n  };\n\n  render() {\n    const { loading } = this.state;\n    return (\n      <React.Fragment>\n        {loading ? showLoading() : null}\n        <nav className=\"teal blue-grey\">\n          <div className=\"nav-wrapper container\">\n            <Link to=\"/\" className=\"brand-logo\">\n              MyRecipe\n            </Link>\n            <Link\n              to=\"#\"\n              data-target=\"mobile-demo\"\n              className=\"sidenav-trigger show-on-med \"\n            >\n              <i className=\"fa fa-bars fa-2x\" aria-hidden=\"true\"></i>\n            </Link>\n\n            <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n              <NavLink\n                pathname={\"/recipes\"}\n                className={\"fa fa-book\"}\n                name={\"Public Recipies\"}\n              />\n              {this.NavBar()}\n            </ul>\n          </div>\n        </nav>\n\n        <ul className=\"sidenav\" id=\"mobile-demo\">\n          <NavLink\n            pathname={\"/recipes\"}\n            className={\"fa fa-book\"}\n            name={\"Public Recipies\"}\n            onCloseNav={this.handleCloseNav}\n          />\n          <li className=\"divider\"></li>\n          {this.NavBarResponsive()}\n        </ul>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(NavBar);\n"]},"metadata":{},"sourceType":"module"}