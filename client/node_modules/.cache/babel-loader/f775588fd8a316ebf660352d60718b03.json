{"ast":null,"code":"var _jsxFileName = \"/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/admin/recipes.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { showLoading } from \"../helper/loading\";\nimport { toast } from \"react-toastify\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\n\nclass AdminRecipes extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      recipes: [],\n      loading: false,\n      user: \"\"\n    };\n\n    this.componentDidMount = () => {\n      AOS.init();\n      const {\n        _id\n      } = JSON.parse(localStorage.user);\n      this.setState({\n        loading: true,\n        user: _id\n      });\n      axios.get(\"/api/admin/recipes\").then(({\n        data: recipes\n      }) => {\n        this.setState({\n          recipes,\n          loading: false\n        });\n      });\n    };\n\n    this.deleteRecipe = e => {\n      const currentRecipe = this.state.recipes.find(m => m._id === e.currentTarget.id);\n      const recipes = this.state.recipes.filter(m => m._id !== e.currentTarget.id);\n      this.setState({\n        recipes\n      });\n      const id = e.currentTarget.id;\n      const obj = {\n        _id: id,\n        user: this.state.user\n      };\n      console.log(obj);\n      axios.delete(`/api/recipes/${id}`, {\n        data: obj\n      }).then(() => {\n        toast.success(`You successfully deleted ${currentRecipe.title}`, {\n          position: \"bottom-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }).catch(err => {\n        this.setState({\n          errors: err\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      recipes,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"main\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, loading ? showLoading() : null, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"stipped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, recipes.map(recipe => /*#__PURE__*/React.createElement(\"tr\", {\n      key: recipe._id,\n      \"data-aos\": \"fade-left\",\n      \"data-aos-easing\": \"linear\",\n      \"data-aos-duration\": \"4500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/recipes/\" + recipe._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, recipe.title)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, moment(recipe.createdAt).format(\"LLLL\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dash status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, recipe.status)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/edit/\" + recipe._id,\n      className: \"btn btn-float \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      id: recipe._id,\n      className: \"btn red\",\n      onClick: this.deleteRecipe,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }))))))));\n  }\n\n}\n\nexport default AdminRecipes;","map":{"version":3,"sources":["/Users/iashir/Desktop/WorkProjects/Recipe/client/src/components/admin/recipes.jsx"],"names":["React","Component","axios","Link","moment","showLoading","toast","AOS","AdminRecipes","state","recipes","loading","user","componentDidMount","init","_id","JSON","parse","localStorage","setState","get","then","data","deleteRecipe","e","currentRecipe","find","m","currentTarget","id","filter","obj","console","log","delete","success","title","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","err","errors","render","map","recipe","createdAt","format","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { showLoading } from \"../helper/loading\";\nimport { toast } from \"react-toastify\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nclass AdminRecipes extends Component {\n  state = { recipes: [], loading: false, user: \"\" };\n  componentDidMount = () => {\n    AOS.init();\n    const { _id } = JSON.parse(localStorage.user);\n    this.setState({ loading: true, user: _id });\n    axios.get(\"/api/admin/recipes\").then(({ data: recipes }) => {\n      this.setState({ recipes, loading: false });\n    });\n  };\n\n  deleteRecipe = (e) => {\n    const currentRecipe = this.state.recipes.find(\n      (m) => m._id === e.currentTarget.id\n    );\n    const recipes = this.state.recipes.filter(\n      (m) => m._id !== e.currentTarget.id\n    );\n    this.setState({ recipes });\n    const id = e.currentTarget.id;\n    const obj = {\n      _id: id,\n      user: this.state.user,\n    };\n    console.log(obj);\n    axios\n      .delete(`/api/recipes/${id}`, { data: obj })\n      .then(() => {\n        toast.success(`You successfully deleted ${currentRecipe.title}`, {\n          position: \"bottom-center\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n      })\n      .catch((err) => {\n        this.setState({ errors: err });\n      });\n  };\n  render() {\n    const { recipes, loading } = this.state;\n    return (\n      <main className=\"container\">\n        {loading ? showLoading() : null}\n        <table className=\"stipped\">\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Date</th>\n              <th>Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {recipes.map((recipe) => (\n              <tr\n                key={recipe._id}\n                data-aos=\"fade-left\"\n                data-aos-easing=\"linear\"\n                data-aos-duration=\"4500\"\n              >\n                <td>\n                  <Link to={\"/recipes/\" + recipe._id}>{recipe.title}</Link>\n                </td>\n                <td>{moment(recipe.createdAt).format(\"LLLL\")}</td>\n                <td>\n                  <span className=\"dash status\">{recipe.status}</span>\n                </td>\n                <td>\n                  <Link\n                    to={\"/admin/edit/\" + recipe._id}\n                    className=\"btn btn-float \"\n                  >\n                    <i className=\"fa fa-edit\"></i>\n                  </Link>\n\n                  <button\n                    id={recipe._id}\n                    className=\"btn red\"\n                    onClick={this.deleteRecipe}\n                  >\n                    <i className=\"fa fa-trash\"></i>\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </main>\n    );\n  }\n}\n\nexport default AdminRecipes;\n"]},"metadata":{},"sourceType":"module"}